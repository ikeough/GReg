<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Dynamo Packages</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="assets/base.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="icon" type="image/ico" href="favicon.ico"/>
</head>

<body>

   <div id="app">
     
    <div id="nav_container" class="row">
			<a class="nav" href ="#" data-target="browse">Browse</a>
			<a class="nav" href ="#" data-target="search">Search</a>
		</div>
   
    <div id="home_container" class="content row col">
			<div id="home_inner_container" class="row col">
				<h1>Dynamo Package Manager</h1>
			</div>	
		</div>
 
    <div id= "browse_container" class = "content row scroll-y">
    		
				<div class="loading_container row col"><img src="assets/476.gif" /> </div>	
   			
				<div style="width: 100%;background: #222; margin-bottom: 50px">
					<div class="stats_container" style="padding-top: 30px; margin-top: 0">
						<h1 style="display: block; height: 60px; color: #888"><img src="http://dyn-builds-pub.s3-website-us-west-2.amazonaws.com/logo.png" style="display: block; float: left; padding-right: 20px;height: 50px"><span style=""> Package Manager</span></h1>
						<h4 style="padding-bottom: 30px; color: #666">Share and discover workflows for <a style="color: #888" href="http://autodeskvasari.com/dynamo">Dynamo visual programming</a>
						</h4>
					</div>
				</div>

				<div id="package_stats"  class="stats_container">
					<h3>Packages</h3> 
				</div>
   			<div id="author_stats" class="stats_container"><h3>Authors</h3></div>
    </div>

    <div id="search_container" class="content row">
	    <div id="inner_search_container" class="row">

				<input class="search" placeholder="Search..."/>
    	  <div id="sorting">
      	  <span style="color: grey"> Sort by </span>
       	  <span class="sort" data-sort="name">Name</span>
       	  <span class="sort" data-sort="group">Group</span>
					<span class="sort" data-sort="votes">Votes</span>
      	  <span class="sort" data-sort="downloads">Downloads</span>
      	</div>
			</div>
 
			<div class ="list row scroll-y">
    		<div class="loading_container row col"><img src="assets/476.gif" /> </div> 
			</div>

    </div>
 
  </div>

  <script type="text/template" id="item-template">


    <div class="title-container" >
      <h2 class="name searchfield"><%- name %><% if(deprecated){ %><span style="text-transform: uppercase; font-size: 12px; padding-left: 10px;"> (Deprecated) </> <% } %> </h2>
    </div>
	
    <div class="description-container" >
  		<p class="description searchfield"><%- description %></p>
    </div>
		
		<div class="group-container">
      <p class="group searchfield"><%- group %></p>
		</div>
		
		<div class="votes-downloads-container">  
		  <div title="Number of downloads"><i class="icon-download-alt" style="display:inline-block" /><span class="downloads"> <%- downloads %></span> </div>
      <div title="Votes"><i class="icon-chevron-up" style="display:inline-block" /><span class="votes"> <%- votes %> </span> </div>
	 </div>
    <div class="data-container" style="display:none">
 
      <p class="title"><strong>Keywords: </strong> </p>
      <p class="keywords searchfield"><% _.each(keywords, function(i) { %> <%= i %> <% }); %> </p>

      <p class="title"><strong>Versions: </strong> </p>
       <% _.each(versions, function(i) { %> <a href = "download/<%= _id  %>/<%= i.version %>"><p class="versions searchfield"><%= i.version %> <i style="margin-left: 5px;" class="icon-download-alt icon-white" /></a></p><% }); %>

      <p class="title"><strong>Maintainers: </strong></p>
      <p class="maintainers searchfield"><% _.each(maintainers, function(i) { %>  <%= i.username %> <% }); %></p>
     
      <p class="title"><strong>Group: </strong></p>
      <p class="group searchfield"><%- group %></p>
     
      <% if(used_by && used_by.length > 0){ %>
      <p class="title"><strong>Used by: </strong> </p>
      <p class="used_by searchfield"><% _.each(used_by, function(i) { %><%= i.name %> <% }); %> </p>
      <% } %>

      <a href="#" style="display: inline-block; margin-top: 15px" class="showdeps">view Dependencies <i class="icon-arrow-down icon-white" /></a>

      <div class="deps-container" style="display:none">
        <strong>Directly Uses: </strong>
        <ul> 
          <% _.each(version_deps, function(i) { %> 
            <li> <%= i.version %> 
              <ul> <% _.each(i.deps, function(j) { %>  
                <li> <%= j.name %> <%= j.version %> </li> 
                <% }); %>
              </ul> 
            </li>
          <% }); %>
        </ul>
      </div>

      <div class="full_deps-container" style="display:none">
        <strong>Full Download Dependencies: </strong>
        <ul> 
          <% _.each(full_dl_deps, function(i) { %> 
          <li> <%= i.version %> 
            <ul> 
              <% _.each(i.deps, function(j) { %>  
              <li> <%= j.name %> <%= j.version %> </li> 
              <% }); %>
            </ul> 
          </li>
          <% }); %>
        </ul>
      </div>
    </div>

  </script>

  <script type="text/template" id="package-stat-template">

    <p class="stats-title"><strong><%= type %> </strong> </p>

    <ul> 
      <% _.each(list, function(i) { %> 
      <li> 
        <span class="stat-name"> <%= i.name %></span>  <span class="stat-metric"> <%= i.metric %> </span>
      </li>
      <% }); %>
    </ul>

  </script>

  <script type="text/template" id="author-stat-template">

    <p class="stats-title"><strong><%= type %> </strong> </p>

    <ul> 
      <% _.each(list, function(i) { %> 
      <li> 
        <span class="stat-name"> <%= i.username %></span> <span class="stat-metric"> <%= i.metric %> </span>
      </li>
      <% }); %>
    </ul>

  </script>


  <script type="text/template" id="stats-template">
    <span id="package-count"><strong><%= remaining %></strong> <%= remaining === 1 ? 'item' : 'items' %> left</span>
  </script>

  <script src="js/lib/jquery.min.js"></script>
  <script src="js/lib/list.js"></script>
  <script src="js/lib/highlight.min.js"></script>
  <script src="js/lib/underscore-min.js"></script>
  <script src="js/lib/backbone-min.js"></script>
  <script src="js/lib/backbone.localStorage.js"></script>

  <script src="js/models/package.js"></script>
  <script src="js/models/stat.js"></script>

  <script src="js/collections/packages.js"></script>
  <script src="js/collections/stats.js"></script>

  <script src="js/views/package.js"></script>
  <script src="js/views/AuthorStat.js"></script>
  <script src="js/views/PackageStat.js"></script>
  <script src="js/views/Packages.js"></script>
  <script src="js/views/Stats.js"></script> 
  <script src="js/views/Nav.js"></script>

  <script src="js/routers/router.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
